<% const title = 'Home'; %>
<% const additionalStyles = '<link rel="stylesheet" href="/css/home.css"><link rel="preload" as="image" href="/images/tot.png" fetchpriority="high">'; %>
<%
const getStartedBtn = !user 
  ? '<a href="/auth/register" class="hero-btn"><i class="bx bx-frame"></i> Get Started</a>'
  : '<a href="/frameworks" class="hero-btn"><i class="bx bx-frame"></i> Explore Frameworks</a>';

// Feature cards data for easier maintenance and potential i18n
const FEATURES = [
  {
    icon: 'bx-trees',
    title: 'Multiple Frameworks',
    description: 'Choose from Tree-of-Thought, Chain-of-Thought, Self-Consistency, Role-Based, and Reflection prompting strategies.'
  },
  {
    icon: 'bx-edit',
    title: 'Guided Forms',
    description: 'Fill out simple forms tailored to each framework to generate professional, structured prompts.'
  },
  {
    icon: 'bx-book',
    title: 'Prompt Library',
    description: 'Save your prompts to a personal library for easy access and reuse.'
  },
  {
    icon: 'bx-bolt',
    title: 'Real-Time Preview',
    description: 'See your prompt generated in real-time as you fill out the form.'
  },
  {
    icon: 'bx-rocket',
    title: 'Premium Features',
    description: 'Upgrade for unlimited saved prompts and export capabilities.'
  },
  {
    icon: 'bx-lock',
    title: 'Secure & Private',
    description: 'Your prompts are private and secure, accessible only to you.'
  }
];

const bodyContent = String.raw`
<!-- HERO SECTION -->
<div class="hero">
  <canvas id="heroCanvas" class="hero-canvas" aria-hidden="true"></canvas>
  <div class="hero-content">
    <h1 class="hero-title">Prompt Framework Studio</h1>
    <p>Create structured, effective prompts using proven LLM prompting frameworks</p>
    ${getStartedBtn}
  </div>
  
  <!-- CAROUSEL -->
  <div class="hero-carousel-wrapper">
    <div class="hero-carousel" id="heroCarousel" role="region" aria-label="Framework examples carousel">
      <img src="/images/sc.png" width="360" height="250" class="side" alt="Self-Consistency Framework" loading="lazy" decoding="async">
      <img src="/images/tot.png" width="460" height="320" class="center" alt="Tree-of-Thought Framework" decoding="async" fetchpriority="high">
      <img src="/images/cot.png" width="360" height="250" class="side" alt="Chain-of-Thought Framework" loading="lazy" decoding="async">
    </div>
  </div>
  
</div>

<!-- FEATURE GRID -->
<div class="feature-grid-wrapper">
  <div class="feature-grid">
    ${FEATURES.map(feature => `
    <article class="feature-card">
      <i class='bx ${feature.icon} icon' aria-hidden="true"></i>
      <h3>${feature.title}</h3>
      <p>${feature.description}</p>
    </article>`).join('')}
  </div>
  
  <!-- Decorative corner lines -->
  <div class="corner top-left" aria-hidden="true"></div>
  <div class="corner top-right" aria-hidden="true"></div>
  <div class="corner bottom-left" aria-hidden="true"></div>
  <div class="corner bottom-right" aria-hidden="true"></div>
</div>

<script src="/js/canvas-node-system.js" defer></script>
<script src="/js/carousel.js" defer></script>

<noscript>
  <style>
    .hero-carousel img { opacity: 1 !important; filter: none !important; }
    .hero-carousel img.side { opacity: 0.7 !important; }
  </style>
</noscript>
`;
%>
<%- include('layout-wrapper', { body: bodyContent, additionalStyles: additionalStyles }) %>
