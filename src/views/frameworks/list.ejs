<% const title = 'Frameworks'; %>
<% const organizedFrameworks = { featured: frameworks.slice(0, 2), regular: frameworks.slice(2) }; %>

<% 
// Map framework IDs to Boxicon classes
const frameworkIcons = {
  'tot': 'bx-network-chart',
  'self-consistency': 'bx-refresh-cw-dot',
  'cot': 'bx-link',
  'role': 'bx-file-code',
  'reflection': 'bx-edit'
};
%>

<%- include('../layout-wrapper', { body: `
<link rel="stylesheet" href="/css/frameworks-list.css">

<!-- Frameworks Header -->
<div class="admin-header">
  <div class="admin-header-container">
    <h1>Prompting Frameworks</h1>
  </div>
</div>

<!-- Grid of framework cards -->
<div class="frameworks-wrapper">
  <!-- Discover Wizard Card -->
  <div class="feature-grid-frameworks row-1">
    <div class="feature-card discover-card">
      <i class='bx bx-compass icon'></i>
      <h3>Discover</h3>
      <p>Not sure which framework to use? Let our wizard guide you to the perfect match for your needs.</p>
      <a href="/wizard" class="btn"><i class='bx bx-play-circle'></i> Find My Framework</a>
      <div class="discover-badge">Recommended for beginners</div>
    </div>
    ${organizedFrameworks.featured.map(f => `
      <div class="feature-card">
        <i class='bx ${frameworkIcons[f.id] || 'bx-code-alt'} icon'></i>
        <h3>${f.name}</h3>
        <p>${f.description}</p>
        <a href="/frameworks/${f.id}" class="btn"><i class='bx bx-frame'></i> Create Prompt</a>
      </div>
    `).join('')}
  </div>
  
  <!-- Row 2: Remaining frameworks -->
  <div class="feature-grid-frameworks row-2">
    ${organizedFrameworks.regular.map(f => `
      <div class="feature-card">
        <i class='bx ${frameworkIcons[f.id] || 'bx-code-alt'} icon'></i>
        <h3>${f.name}</h3>
        <p>${f.description}</p>
        <a href="/frameworks/${f.id}" class="btn"><i class='bx bx-frame'></i> Create Prompt</a>
      </div>
    `).join('')}
  </div>
</div>
`, user, subscription }) %>
